!function(){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("consent","default",{analytics_storage:"denied",ad_storage:"denied",ad_personalization:"denied",ad_user_data:"denied",personalization_storage:"denied",functionality_storage:"granted",security_storage:"granted"});let ENCRYPTION_KEY="",ENCRYPTION_IV="";function setConsentCookie(e,t,n){let a="";if(n){let r=new Date;r.setTime(r.getTime()+864e5*n),a="; expires="+r.toUTCString()}let o=e+"="+t+a+"; path=/; SameSite=Lax";"https:"===location.protocol&&(o+="; Secure"),document.cookie=o}function getConsentCookie(e){let t=`; ${document.cookie}`,n=t.split(`; ${e}=`);if(2===n.length)return n.pop().split(";").shift()}function removeDuplicateScripts(){let e=document.head.querySelectorAll("script[data-category]"),t=new Map;e.forEach(function(e){let n=e.src,a=e.getAttribute("data-category"),r=n+"|"+a;t.has(r)?e.remove():t.set(r,e)})}function ensureGtagInitialization(){window.dataLayer=window.dataLayer||[],void 0===window.gtag&&(window.gtag=function(){window.dataLayer.push(arguments)});let e=document.querySelectorAll('script[src*="googletagmanager"]');if(e.length>0&&"function"==typeof window.gtag)try{window.gtag("event","consent_scripts_enabled",{event_category:"consent",event_label:"scripts_re_enabled"}),setTimeout(function(){try{window.gtag("config","GA_MEASUREMENT_ID",{page_title:document.title,page_location:window.location.href})}catch(e){}},500)}catch(t){}let n=document.querySelectorAll('script[src*="analytics"], script[src*="gtag"], script[src*="googletagmanager"]');n.length}function forceReloadAnalyticsScripts(){let e=document.querySelectorAll('script[src*="analytics"], script[src*="gtag"], script[src*="googletagmanager"], script[src*="google-analytics"]');e.forEach(function(e){if("text/javascript"===e.type&&e.src)try{let t=document.createElement("script");for(let n of e.attributes)t.setAttribute(n.name,n.value);t.type="text/javascript",t.onerror=function(){},t.onload=function(){},e.parentNode.insertBefore(t,e),e.remove()}catch(a){}})}function blockScriptsByCategory(){removeDuplicateScripts(),document.head.querySelectorAll("script[data-category]").forEach(function(e){var t=e.getAttribute("data-category");t&&(t.split(",").map(function(e){return e.trim()}).some(function(e){var t=e.toLowerCase();return"necessary"===t||"essential"===t})||(e.type="text/plain",e.setAttribute("data-blocked-by-consent","true")))})}function enableAllScriptsWithDataCategory(){var allBlockedScripts,scripts=document.head.querySelectorAll("script[data-category]"),blockedScripts=[];scripts.forEach(function(e){("text/plain"===e.type||e.hasAttribute("data-blocked-by-consent")||e.hasAttribute("data-blocked-by-ccpa"))&&blockedScripts.push(e)}),blockedScripts.forEach(function(script){if(script.src)try{let existingScript=document.querySelector(`script[src="${script.src}"][type="text/javascript"]`);if(existingScript){script.remove();return}let newScript=document.createElement("script");for(let attr of script.attributes)"type"!==attr.name&&"data-blocked-by-consent"!==attr.name&&"data-blocked-by-ccpa"!==attr.name&&newScript.setAttribute(attr.name,attr.value);newScript.type="text/javascript",newScript.onerror=function(){},newScript.onload=function(){ensureGtagInitialization()},script.parentNode.insertBefore(newScript,script),script.remove()}catch(error){}else if(script.type="text/javascript",script.removeAttribute("data-blocked-by-consent"),script.removeAttribute("data-blocked-by-ccpa"),script.innerHTML)try{eval(script.innerHTML)}catch(e){}}),document.head.querySelectorAll('script[type="text/plain"]').forEach(function(script){var isGoogleScript=script.src&&(script.src.includes("googletagmanager.com")||script.src.includes("google-analytics.com")||script.src.includes("gtag")||script.src.includes("analytics.js")||script.src.includes("ga.js"));if(script.src)try{let existingScript=document.querySelector(`script[src="${script.src}"][type="text/javascript"]`);if(existingScript){script.remove();return}let newScript=document.createElement("script");for(let attr of script.attributes)"type"!==attr.name&&"data-blocked-by-consent"!==attr.name&&"data-blocked-by-ccpa"!==attr.name&&"data-blocked-by-targeted-advertising"!==attr.name&&"data-blocked-by-sale"!==attr.name&&newScript.setAttribute(attr.name,attr.value);newScript.type="text/javascript",newScript.onload=function(){ensureGtagInitialization()},script.parentNode.insertBefore(newScript,script),script.remove()}catch(error){script.type="text/javascript",script.removeAttribute("data-blocked-by-consent"),script.removeAttribute("data-blocked-by-ccpa")}else if(script.type="text/javascript",script.removeAttribute("data-blocked-by-consent"),script.removeAttribute("data-blocked-by-ccpa"),script.removeAttribute("data-blocked-by-targeted-advertising"),script.removeAttribute("data-blocked-by-sale"),script.innerHTML)try{eval(script.innerHTML)}catch(e){}}),removeDuplicateScripts(),setTimeout(ensureGtagInitialization,100)}function enableScriptsByCategories(allowedCategories){var scripts=document.head.querySelectorAll("script[data-category]"),scriptsToEnable=[];scripts.forEach(function(e){var t=e.getAttribute("data-category");t&&t.split(",").map(function(e){return e.trim().toLowerCase()}).some(function(e){return allowedCategories.some(function(t){var n=t.toLowerCase();return e===n||e.includes(n)||n.includes(e)})})&&("text/plain"===e.type||e.hasAttribute("data-blocked-by-consent")||e.hasAttribute("data-blocked-by-ccpa"))&&scriptsToEnable.push(e)}),scriptsToEnable.forEach(function(script){if(script.src)try{let existingScript=document.querySelector(`script[src="${script.src}"][type="text/javascript"]`);if(existingScript){script.remove();return}let newScript=document.createElement("script");for(let attr of script.attributes)"type"!==attr.name&&"data-blocked-by-consent"!==attr.name&&"data-blocked-by-ccpa"!==attr.name&&newScript.setAttribute(attr.name,attr.value);newScript.type="text/javascript",newScript.onerror=function(){},newScript.onload=function(){ensureGtagInitialization()},script.parentNode.insertBefore(newScript,script),script.remove()}catch(error){}else if(script.type="text/javascript",script.removeAttribute("data-blocked-by-consent"),script.removeAttribute("data-blocked-by-ccpa"),script.innerHTML)try{eval(script.innerHTML)}catch(e){}}),removeDuplicateScripts(),setTimeout(ensureGtagInitialization,100)}function updateGtagConsent(e){gtag("consent","update",{analytics_storage:e.analytics?"granted":"denied",functionality_storage:"granted",ad_storage:e.marketing?"granted":"denied",ad_personalization:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",personalization_storage:e.personalization?"granted":"denied",security_storage:"granted"}),void 0!==window.dataLayer&&window.dataLayer.push({event:"consent_update",consent_analytics:e.analytics,consent_marketing:e.marketing,consent_personalization:e.personalization})}async function setConsentState(e,t=365){if(!e||"object"!=typeof e){console.error("setConsentState failed: Invalid or missing preferences");return}let n=["analytics","marketing","personalization","doNotShare"];for(let a of n)if(e.hasOwnProperty(a))try{let r="doNotShare"===a?"cb-consent-donotshare":`cb-consent-${a}_storage`,o=e[a]?"true":"false";setConsentCookie(r,o,t)}catch(c){console.error(`Error setting cookie for "${a}"`,c)}try{await storeEncryptedPreferences(e),updateGtagConsent(e);let i=864e5,s=Date.now()+t*i;localStorage.setItem("consentExpiresAt",s.toString()),localStorage.setItem("consentExpirationDays",t.toString())}catch(l){console.error("Failed to store preferences or update gtag:",l)}}async function storeEncryptedPreferences(e){try{let t=JSON.stringify(e),n=await encryptWithHardcodedKey(t);localStorage.setItem("encrypted-consent-preferences",n)}catch(a){}}async function getDecryptedPreferences(){try{let e=localStorage.getItem("encrypted-consent-preferences");if(!e)return null;let t=await importHardcodedKey(),n=base64ToUint8Array(ENCRYPTION_IV),a=base64ToUint8Array(e),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},t,a),o=new TextDecoder().decode(r);return JSON.parse(o)}catch(c){return null}}async function getConsentPreferences(){let e=await getDecryptedPreferences();return e||{analytics:"true"===getConsentCookie("cb-consent-analytics_storage"),marketing:"true"===getConsentCookie("cb-consent-marketing_storage"),personalization:"true"===getConsentCookie("cb-consent-personalization_storage"),doNotShare:"true"===getConsentCookie("cb-consent-donotshare")}}function showBanner(e){e&&(e.style.setProperty("display","block","important"),e.style.setProperty("visibility","visible","important"),e.style.setProperty("opacity","1","important"),e.classList.add("show-banner"),e.classList.remove("hidden"))}function hideBanner(e){e&&(e.style.setProperty("display","none","important"),e.style.setProperty("visibility","hidden","important"),e.style.setProperty("opacity","0","important"),e.classList.remove("show-banner"),e.classList.add("hidden"))}async function hideAllBanners(){hideBanner(document.getElementById("consent-banner")),hideBanner(document.getElementById("initial-consent-banner")),hideBanner(document.getElementById("main-banner")),hideBanner(document.getElementById("main-consent-banner")),hideBanner(document.getElementById("simple-consent-banner"))}function base64ToUint8Array(e){let t=atob(e),n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}function uint8ArrayToBase64(e){return btoa(String.fromCharCode(...e))}async function importHardcodedKey(){let e=base64ToUint8Array(ENCRYPTION_KEY);return crypto.subtle.importKey("raw",e,{name:"AES-GCM"},!1,["encrypt","decrypt"])}async function encryptWithHardcodedKey(e){try{let t=await importHardcodedKey(),n=base64ToUint8Array(ENCRYPTION_IV),a=new TextEncoder,r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,a.encode(e));return uint8ArrayToBase64(new Uint8Array(r))}catch(o){throw o}}function isTokenExpired(e){if(!e)return!0;let[t]=e.split(".");if(!t)return!0;try{let n=JSON.parse(atob(t));if(!n.exp)return!0;return n.exp<Math.floor(Date.now()/1e3)}catch{return!0}}async function getOrCreateVisitorId(){let e=localStorage.getItem("visitorId");return e||(e=crypto.randomUUID(),localStorage.setItem("visitorId",e)),e}async function cleanHostname(e){let t=e.replace(/^www\./,"");return t.split(".")[0]}function clearVisitorSession(){localStorage.removeItem("visitorId"),localStorage.removeItem("visitorSessionToken"),localStorage.removeItem("consent-given"),localStorage.removeItem("consentExpiresAt"),localStorage.removeItem("consentExpirationDays")}let tokenRequestInProgress=!1;async function getVisitorSessionToken(){try{if(tokenRequestInProgress){await new Promise(e=>setTimeout(e,1e3));let e=localStorage.getItem("visitorSessionToken");if(e&&!isTokenExpired(e))return e}let t=localStorage.getItem("visitorSessionToken");if(t&&!isTokenExpired(t))return t;tokenRequestInProgress=!0;let n=await getOrCreateVisitorId(),a=document.getElementById("consensite-id").textContent,r=await fetch("https://framer.consentbit.com/api/visitor-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitorId:n,siteName:a})});if(!r.ok){if(500===r.status){clearVisitorSession();let o=await getOrCreateVisitorId(),c=await fetch("https://framer.consentbit.com/api/visitor-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitorId:o,siteName:a})});if(!c.ok)throw Error(`Retry failed after clearing session: ${c.status}`);let i=await c.json();return localStorage.setItem("visitorSessionToken",i.token),i.token}throw Error(`Failed to get visitor session token: ${r.status}`)}let s=await r.json();return localStorage.setItem("visitorSessionToken",s.token),s.token}catch(l){return null}finally{tokenRequestInProgress=!1}}async function fetchCookieExpirationDays(){let e=localStorage.getItem("visitorSessionToken");if(!e)return 180;try{let t=document.getElementById("consensite-id").textContent,n=`https://framer.consentbit.com/banner/get/${encodeURIComponent(t)}`,a=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});if(!a.ok)return 180;let r=await a.json();if(r&&null!==r.settings.expires&&void 0!==r.settings.expires)return parseInt(r.settings.expires,10);return 180}catch{return 180}}function getTestLocationOverride(){let e=localStorage.getItem("test_location_override");if(e)try{return JSON.parse(e)}catch{}return null}let country=null;function showCCPABanner(){hideBanner(document.getElementById("consent-banner")),showBanner(document.getElementById("initial-consent-banner"))}function showGDPRBanner(){hideBanner(document.getElementById("initial-consent-banner")),showBanner(document.getElementById("consent-banner"))}async function detectLocationAndGetBannerType(){try{let e=localStorage.getItem("visitorSessionToken");if(!e)return null;let t=window.location.hostname.replace(/^www\./,"").split(".")[0],n=`https://framer.consentbit.com/location?siteName=${encodeURIComponent(t)}`,a=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});if(!a.ok)return null;let r=await a.json();if(!r.bannerType)return null;country=r.country;let o={country:r.country||"UNKNOWN",continent:r.continent||"UNKNOWN",state:r.state||null,bannerType:r.bannerType};return currentLocation=o,country=o.country,r}catch(c){return null}}async function saveConsentStateToServer(e,t,n){try{let a=window.location.hostname,r=localStorage.getItem("visitorId"),o="1.2",c=new Date().toISOString(),i=localStorage.getItem("visitorSessionToken"),s=document.getElementById("consensite-id").textContent;if(!i)return;let l={clientId:a,siteId:s,visitorId:r,preferences:e,policyVersion:o,timestamp:c,country:country||"IN",bannerType:e.bannerType||"GDPR",expiresAtTimestamp:Date.now()+864e5*(t||365),expirationDurationDays:t||365,metadata:{...n&&{userAgent:navigator.userAgent},language:navigator.language,platform:navigator.userAgentData?.platform||"unknown",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}},d=l,y=await fetch("https://framer.consentbit.com/consent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(d)});if(!y.ok)throw await y.text(),Error(`Server error: ${y.status} ${y.statusText}`);await y.json()}catch(u){console.error("Error saving consent state to server:",u)}}function updatePreferenceForm(e){let t=document.querySelector('[data-consent-id="necessary-checkbox"]'),n=document.querySelector('[data-consent-id="marketing-checkbox"]'),a=document.querySelector('[data-consent-id="personalization-checkbox"]'),r=document.querySelector('[data-consent-id="analytics-checkbox"]');t&&(t.checked=!0,t.disabled=!0),n&&(n.checked=Boolean(e.marketing)),a&&(a.checked=Boolean(e.personalization)),r&&(r.checked=Boolean(e.analytics))}function updateCCPAPreferenceForm(e){let t=document.querySelector('[data-consent-id="do-not-share-checkbox"]');if(t){if(e.hasOwnProperty("doNotShare"))t.checked=e.doNotShare;else if(e.hasOwnProperty("donotshare"))t.checked=e.donotshare;else{let n=!e.analytics||!e.marketing||!e.personalization;t.checked=n}}let a=document.querySelectorAll('.consentbit-ccpa-prefrence-toggle input[type="checkbox"]');a.forEach(t=>{let n=t.name||t.getAttribute("data-category")||"";n.toLowerCase().includes("analytics")?t.checked=!Boolean(e.analytics):n.toLowerCase().includes("marketing")||n.toLowerCase().includes("advertising")?t.checked=!Boolean(e.marketing):(n.toLowerCase().includes("personalization")||n.toLowerCase().includes("functional"))&&(t.checked=!Boolean(e.personalization))})}async function checkPublishingStatus(){try{let e=localStorage.getItem("visitorSessionToken");if(!e)return!1;let t=window.location.hostname,n=`https://framer.consentbit.com/subscription-status?siteDomain=${encodeURIComponent(t)}`,a=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});if(!a.ok)return!1;let r=await a.json();return!0===r.canPublishToCustomDomain}catch(o){return!1}}function removeConsentElements(){let e=[".consentbit-gdpr-banner-div",".consentbit-preference_div",".consentbit-change-preference",".consentbit-ccpa-banner-div",".consentbit-ccpa_preference",];e.forEach(e=>{let t=document.querySelectorAll(e);t.forEach(e=>e.remove())})}function isStagingHostname(){let e=window.location.hostname;return e.includes(".framer.app")||e.includes("localhost")||e.includes("127.0.0.1")}function loadConsentStyles(){try{let e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/gh/snm62/consentbit@0980c49/consentbitstyle.css",e.type="text/css";let t=document.createElement("link");t.rel="stylesheet",t.href="https://cdn.jsdelivr.net/gh/snm62/consentbit@8c69a0b/consentbit.css",document.head.appendChild(t),e.onerror=function(){},e.onload=function(){},document.head.appendChild(e)}catch(n){}}function monitorDynamicScripts(){let e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){if(1===e.nodeType&&"SCRIPT"===e.tagName){let t=localStorage.getItem("cb-consent-analytics_storage"),n=localStorage.getItem("cb-consent-marketing_storage"),a=localStorage.getItem("cb-consent-personalization_storage"),r=localStorage.getItem("consent-given");if(e.hasAttribute("data-category")){let o=e.getAttribute("data-category"),c=o.split(",").map(function(e){return e.trim()});if(!c.some(function(e){var t=e.toLowerCase();return"necessary"===t||"essential"===t})&&"true"===r){var i=!1;c.forEach(function(e){var r=e.toLowerCase();"analytics"===r&&"false"===t?i=!0:("marketing"===r||"advertising"===r)&&"false"===n?i=!0:("personalization"===r||"functional"===r)&&"false"===a&&(i=!0)}),i&&(e.type="text/plain",e.setAttribute("data-blocked-by-consent","true"))}}else e.src&&(e.src.includes("facebook.net")||e.src.includes("fbcdn.net")||e.src.includes("hotjar.com")||e.src.includes("mixpanel.com")||e.src.includes("intercom.io")||e.src.includes("klaviyo.com")||e.src.includes("tiktok.com")||e.src.includes("linkedin.com")||e.src.includes("twitter.com")||e.src.includes("adobe.com"))&&"false"===t&&"false"===n&&(e.type="text/plain",e.setAttribute("data-blocked-by-consent","true"))}})})});e.observe(document.documentElement,{childList:!0,subtree:!0})}async function checkConsentExpiration(){let e=localStorage.getItem("consentExpiresAt");e&&Date.now()>parseInt(e,10)&&(localStorage.removeItem("consent-given"),localStorage.removeItem("consent-preferences"),localStorage.removeItem("consentExpiresAt"),localStorage.removeItem("consentExpirationDays"),["analytics","marketing","personalization"].forEach(e=>{setConsentCookie("cb-consent-"+e+"_storage","",-1)}))}async function disableScrollOnSite(){let e=document.querySelector('[scroll-control="true"]');if(!e)return;let t=!1;function n(){if(t)return;t=!0;let e=window.scrollY;document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.width="100%",document.body.dataset.scrollY=e}function a(){if(!t)return;t=!1;let e=parseInt(document.body.dataset.scrollY||"0",10);document.documentElement.style.overflow="",document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,e)}function r(e){let t=window.getComputedStyle(e);return"none"!==t.display}function o(){let e=Array.from(document.querySelectorAll('[data-cookie-banner="true"]')),t=e.filter(r).length;return t>0}function c(){o()?n():a()}let i=new MutationObserver(e=>{c()});i.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class","hidden","aria-hidden"]}),c()}function unblockScriptsWithDataCategory(){var scripts;document.head.querySelectorAll('script[type="text/plain"][data-category]').forEach(function(script){if(script.src)try{let existingScript=document.querySelector(`script[src="${script.src}"][type="text/javascript"]`);if(existingScript){script.remove();return}let newScript=document.createElement("script");for(let attr of script.attributes)"type"!==attr.name&&"data-blocked-by-consent"!==attr.name&&"data-blocked-by-ccpa"!==attr.name&&newScript.setAttribute(attr.name,attr.value);newScript.type="text/javascript",script.parentNode.insertBefore(newScript,script),script.remove()}catch(error){}else if(script.type="text/javascript",script.removeAttribute("data-blocked-by-ccpa"),script.innerHTML)try{eval(script.innerHTML)}catch(e){}}),setTimeout(ensureGtagInitialization,100)}function blockScriptsWithDataCategory(){document.head.querySelectorAll("script[data-category]").forEach(function(e){"text/plain"!==e.type&&(e.type="text/plain",e.setAttribute("data-blocked-by-ccpa","true"))})}async function hashStringSHA256(e){let t=new TextEncoder,n=t.encode(e),a=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join("")}async function scanAndSendHeadScriptsIfChanged(e){let t=document.head.querySelectorAll("script"),n=Array.from(t).map(e=>({src:e.src||null,content:e.src?null:e.innerHTML,dataCategory:e.getAttribute("data-category")||null})),a=JSON.stringify(n),r=await hashStringSHA256(a),o=localStorage.getItem("headScriptsHash");if(o!==r)try{window.location.hostname.replace(/^www\./,"").split(".")[0];let c=document.getElementById("consensite-id").textContent,i="https://framer.consentbit.com/scripts",s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({siteId:c,scripts:n})});s.ok&&localStorage.setItem("headScriptsHash",r)}catch(l){}}function blockNonGoogleScripts(){removeDuplicateScripts(),document.head.querySelectorAll("script[src]").forEach(function(e){e.src&&(e.src.includes("googletagmanager.com")||e.src.includes("google-analytics.com")||e.src.includes("gtag")||e.src.includes("analytics.js")||e.src.includes("ga.js"))||"text/plain"===e.type||(e.type="text/plain",e.setAttribute("data-blocked-by-consent","true"))}),document.head.querySelectorAll("script:not([src])").forEach(function(e){var t=e.innerHTML&&(e.innerHTML.includes("dataLayer")||e.innerHTML.includes("gtag")||e.innerHTML.includes("googletagmanager"));e.innerHTML&&!t&&"text/plain"!==e.type&&(e.type="text/plain",e.setAttribute("data-blocked-by-consent","true"))})}function blockTargetedAdvertisingScripts(){let e=/facebook|meta|fbevents|linkedin|twitter|pinterest|tiktok|snap|reddit|quora|outbrain|taboola|sharethrough|doubleclick|adwords|adsense|adservice|pixel|quantserve|scorecardresearch|moat|integral-marketing|comscore|nielsen|quantcast|adobe/i,t=document.head.querySelectorAll("script[src]");t.forEach(t=>{e.test(t.src)&&"text/plain"!==t.type&&(t.type="text/plain",t.setAttribute("data-blocked-by-targeted-advertising","true"))})}function blockSaleScripts(){let e=/facebook|meta|fbevents|linkedin|twitter|pinterest|tiktok|snap|reddit|quora|outbrain|taboola|sharethrough|doubleclick|adwords|adsense|adservice|pixel|quantserve|scorecardresearch|moat|integral-marketing|comscore|nielsen|quantcast|adobe|marketo|hubspot|salesforce|pardot|eloqua|act-on|mailchimp|constantcontact|sendgrid|klaviyo|braze|iterable/i,t=document.head.querySelectorAll("script[src]");t.forEach(t=>{e.test(t.src)&&"text/plain"!==t.type&&(t.type="text/plain",t.setAttribute("data-blocked-by-sale","true"))})}function blockProfilingScripts(){let e=/optimizely|hubspot|marketo|pardot|salesforce|intercom|drift|zendesk|freshchat|tawk|livechat|clarity|hotjar|mouseflow|fullstory|logrocket|mixpanel|segment|amplitude|heap|kissmetrics|matomo|piwik|plausible|woopra|crazyegg|clicktale|chartbeat|parse\.ly/i,t=document.head.querySelectorAll("script[src]");t.forEach(t=>{e.test(t.src)&&"text/plain"!==t.type&&(t.type="text/plain",t.setAttribute("data-blocked-by-profiling","true"))})}function blockCrossContextBehavioralAdvertising(){let e=/facebook|meta|fbevents|linkedin|twitter|pinterest|tiktok|snap|reddit|quora|outbrain|taboola|sharethrough|doubleclick|adwords|adsense|adservice|pixel|quantserve|scorecardresearch|moat|integral-marketing|comscore|nielsen|quantcast|adobe/i,t=document.head.querySelectorAll("script[src]");t.forEach(t=>{e.test(t.src)&&"text/plain"!==t.type&&(t.type="text/plain",t.setAttribute("data-blocked-by-cross-context","true"))})}function blockAutomatedDecisionScripts(){let e=/optimizely|hubspot|marketo|pardot|salesforce|intercom|drift|zendesk|freshchat|tawk|livechat|clarity|hotjar|mouseflow|fullstory|logrocket|mixpanel|segment|amplitude|heap|kissmetrics|matomo|piwik|plausible|woopra|crazyegg|clicktale|chartbeat|parse\.ly/i,t=document.head.querySelectorAll("script[src]");t.forEach(t=>{e.test(t.src)&&"text/plain"!==t.type&&(t.type="text/plain",t.setAttribute("data-blocked-by-automated-decision","true"))})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){loadConsentStyles(),monitorDynamicScripts()}):(loadConsentStyles(),monitorDynamicScripts()),document.addEventListener("DOMContentLoaded",async function(){await hideAllBanners();let e=!1,t=null,n=document.getElementById("toggle-consent-btn");n&&(n.onclick=async function(e){e.preventDefault(),t||(t=await detectLocationAndGetBannerType());let n=document.getElementById("consent-banner"),a=document.getElementById("initial-consent-banner");document.getElementById("main-banner"),t&&(["CCPA","VCDPA","CPA","CTDPA","UCPA"].includes(t.bannerType)||"US"===t.country)&&a&&!document.getElementById("consensite-banner-type").textContent.toLowerCase().includes("gdpr")?(hideAllBanners(),showBanner(a),setTimeout(async()=>{let e=await getConsentPreferences();updateCCPAPreferenceForm(e)},100)):n&&(hideAllBanners(),showBanner(n)),setTimeout(async()=>{let e=await getConsentPreferences();updatePreferenceForm(e)},100)});try{let a=await getVisitorSessionToken();if(a)localStorage.getItem("visitorSessionToken")||localStorage.setItem("visitorSessionToken",a);else{clearVisitorSession();let r=await getVisitorSessionToken();if(!r){setTimeout(()=>{},3e3);return}localStorage.setItem("visitorSessionToken",r)}if(canPublish=await checkPublishingStatus(),e=isStagingHostname()){let o=document.getElementById("toggle-consent-btn");o&&(o.style.display="block")}if(canPublish){let c=document.getElementById("toggle-consent-btn");c&&(c.style.display="block")}if(!canPublish&&!e){removeConsentElements();return}}catch(i){clearVisitorSession(),setTimeout(()=>location.reload(),5e3);return}let s=localStorage.getItem("consent-given");if(!s){let l=getTestLocationOverride();l?(t=l,country=l.country,"CCPA"===l.bannerType?showCCPABanner():showGDPRBanner()):(t=await detectLocationAndGetBannerType())&&t.bannerType?(country=t.country,"CCPA"!==t.bannerType||document.getElementById("consensite-banner-type").textContent.toLowerCase().includes("gdpr")?showGDPRBanner():showCCPABanner()):showGDPRBanner()}await disableScrollOnSite(),checkConsentExpiration();let d=localStorage.getItem("visitorSessionToken");d&&Promise.resolve().then(()=>scanAndSendHeadScriptsIfChanged(d)).catch(e=>{});let y=await fetchCookieExpirationDays(),u=await getConsentPreferences();updatePreferenceForm(u);let p=document.getElementById("accept-btn");p&&(p.onclick=async function(e){e.preventDefault(),hideBanner(document.getElementById("consent-banner")),hideBanner(document.getElementById("initial-consent-banner")),hideBanner(document.getElementById("main-banner")),hideBanner(document.getElementById("main-consent-banner")),hideBanner(document.getElementById("simple-consent-banner")),localStorage.setItem("consent-given","true"),enableAllScriptsWithDataCategory();let n={analytics:!0,marketing:!0,personalization:!0,doNotShare:!1,action:"acceptance",bannerType:t?t.bannerType:void 0};Promise.all([setConsentState(n,y),saveConsentStateToServer(n,y,!0)]).catch(e=>{})});let b=document.getElementById("decline-btn");b&&(b.onclick=async function(e){e.preventDefault(),hideBanner(document.getElementById("consent-banner")),hideBanner(document.getElementById("initial-consent-banner")),hideBanner(document.getElementById("main-banner")),hideBanner(document.getElementById("main-consent-banner")),hideBanner(document.getElementById("simple-consent-banner")),localStorage.setItem("consent-given","true"),blockScriptsByCategory(),gtag("consent","update",{analytics_storage:"denied",ad_storage:"denied",ad_personalization:"denied",ad_user_data:"denied",personalization_storage:"denied",functionality_storage:"granted",security_storage:"granted"});let n={analytics:!1,marketing:!1,personalization:!1,doNotShare:!0,action:"rejection",bannerType:t?t.bannerType:void 0};Promise.all([setConsentState(n,y),saveConsentStateToServer(n,y,!1)]).catch(e=>{})});let m=document.getElementById("do-not-share-link");m&&(m.onclick=async function(e){e.preventDefault();let t=document.getElementById("main-consent-banner");if(t){hideBanner(document.getElementById("initial-consent-banner")),showBanner(t);let n=await getConsentPreferences();updateCCPAPreferenceForm(n)}});let f=document.getElementById("consebit-ccpa-prefrence-accept");f&&(f.onclick=async function(e){e.preventDefault(),hideBanner(document.getElementById("initial-consent-banner"));let n=document.querySelector(".consentbit-ccpa_preference");hideBanner(n);let a=document.querySelector(".consentbit-ccpa-banner-div");hideBanner(a),localStorage.setItem("consent-given","true");let r=document.querySelector('[data-consent-id="do-not-share-checkbox"]'),o;r&&r.checked?(o={doNotShare:!0,doNotSell:!0,action:"rejection",bannerType:t?t.bannerType:void 0},localStorage.setItem("cb-consent-analytics_storage","false"),t&&["VCDPA","CPA","CTDPA","UCPA"].includes(t.bannerType)?(blockTargetedAdvertisingScripts(),blockSaleScripts(),blockProfilingScripts(),blockCrossContextBehavioralAdvertising(),blockAutomatedDecisionScripts()):(blockScriptsWithDataCategory(),blockNonGoogleScripts())):(o={doNotShare:!1,doNotSell:!1,action:"acceptance",bannerType:t?t.bannerType:void 0},localStorage.setItem("cb-consent-analytics_storage","true"),unblockScriptsWithDataCategory(),document.head.querySelectorAll('script[type="text/plain"][data-category]').forEach(function(e){for(var t=document.createElement("script"),n=0;n<e.attributes.length;n++){var a=e.attributes[n];"type"===a.name?t.type="text/javascript":"data-blocked-by-consent"!==a.name&&"data-blocked-by-ccpa"!==a.name&&t.setAttribute(a.name,a.value)}e.innerHTML&&(t.innerHTML=e.innerHTML),e.parentNode.replaceChild(t,e)})),Promise.all([setConsentState(o,y),saveConsentStateToServer(o,y,!0)]).catch(e=>{})});let g=document.getElementById("consebit-ccpa-prefrence-decline");g&&(g.onclick=async function(e){e.preventDefault(),hideBanner(document.getElementById("initial-consent-banner"));let n=document.querySelector(".consentbit-ccpa_preference");hideBanner(n);let a=document.querySelector(".consentbit-ccpa-banner-div");hideBanner(a),localStorage.setItem("consent-given","true"),localStorage.setItem("cb-consent-analytics_storage","false"),blockScriptsByCategory();let r={doNotShare:!0,doNotSell:!0,action:"rejection",bannerType:t?t.bannerType:void 0};Promise.all([setConsentState(r,y),saveConsentStateToServer(r,y,!0)]).catch(e=>{})});let h=document.getElementById("save-btn");h&&(h.onclick=async function(e){e.preventDefault();let n=document.getElementById("main-consent-banner"),a=document.getElementById("initial-consent-banner");n&&hideBanner(n),a&&hideBanner(a),localStorage.setItem("consent-given","true");let r=document.querySelector('[data-consent-id="do-not-share-checkbox"]'),o,c;r&&r.checked?(o={doNotShare:!0,doNotSell:!0,action:"rejection",bannerType:t?t.bannerType:void 0},c=!1,localStorage.setItem("cb-consent-analytics_storage","false")):(o={doNotShare:!1,doNotSell:!1,action:"acceptance",bannerType:t?t.bannerType:void 0},c=!0,localStorage.setItem("cb-consent-analytics_storage","true")),r&&r.checked?blockScriptsWithDataCategory():unblockScriptsWithDataCategory(),Promise.all([setConsentState(o,y),saveConsentStateToServer(o,y,c)]).catch(e=>{})});let v=document.getElementById("preferences-btn");v&&(v.onclick=async function(e){e.preventDefault(),hideBanner(document.getElementById("consent-banner")),showBanner(document.getElementById("main-banner")),getConsentPreferences().then(e=>{updatePreferenceForm(e)}).catch(e=>{})});let k=document.getElementById("save-preferences-btn");k&&(k.onclick=async function(e){e.preventDefault(),hideBanner(document.getElementById("main-banner")),hideBanner(document.getElementById("consent-banner")),hideBanner(document.getElementById("initial-consent-banner")),localStorage.setItem("consent-given","true");let n=!!document.querySelector('[data-consent-id="analytics-checkbox"]:checked'),a=!!document.querySelector('[data-consent-id="marketing-checkbox"]:checked'),r=!!document.querySelector('[data-consent-id="personalization-checkbox"]:checked');blockScriptsByCategory();let o=[];n&&o.push("analytics"),a&&o.push("marketing"),r&&o.push("personalization"),o.length>0&&enableScriptsByCategories(o);let c={analytics:n,marketing:a,personalization:r,action:n||a||r?"acceptance":"rejection",bannerType:t?t.bannerType:void 0};updateGtagConsent(c),Promise.all([setConsentState(c,y),saveConsentStateToServer(c,y,!0)]).catch(e=>{})});let E=document.getElementById("cancel-btn");E&&(E.onclick=async function(e){e.preventDefault(),hideBanner(document.getElementById("main-banner")),hideBanner(document.getElementById("consent-banner")),blockScriptsByCategory(),gtag("consent","update",{analytics_storage:"denied",ad_storage:"denied",ad_personalization:"denied",ad_user_data:"denied",personalization_storage:"denied"}),void 0!==window.dataLayer&&window.dataLayer.push({event:"consent_denied",analytics_storage:"denied",ad_storage:"denied"});let n=document.querySelector('[data-consent-id="analytics-checkbox"]'),a=document.querySelector('[data-consent-id="marketing-checkbox"]'),r=document.querySelector('[data-consent-id="personalization-checkbox"]');n&&(n.checked=!1),a&&(a.checked=!1),r&&(r.checked=!1);let o={action:"rejection",analytics:!1,marketing:!1,personalization:!1,bannerType:t?t.bannerType:void 0};await setConsentState(o,y),updateGtagConsent(o),localStorage.setItem("consent-given","true");try{await saveConsentStateToServer(o,y,!1)}catch(c){}});let I=document.getElementById("close-consent-banner");function A(){let e=document.querySelectorAll('[consentbit="close"]');e.forEach(function(e){e.onclick=function(e){e.preventDefault();let t=[document.getElementById("consent-banner"),document.getElementById("initial-consent-banner"),document.getElementById("main-banner"),document.getElementById("main-consent-banner"),document.getElementById("simple-consent-banner"),document.querySelector(".consentbit-ccpa-banner-div"),document.querySelector(".consentbit-ccpa_preference"),document.querySelector(".consentbit-gdpr-banner-div"),document.querySelector(".consentbit-preference_div"),],n=null;t.forEach(function(e){e&&"none"!==window.getComputedStyle(e).display&&"hidden"!==window.getComputedStyle(e).visibility&&"0"!==window.getComputedStyle(e).opacity&&(n=e)}),n&&hideBanner(n)}})}function S(){let e=document.querySelectorAll('[consentbit-data-donotshare="consentbit-link-donotshare"]');e.forEach(function(e){e.onclick=async function(e){if(e.preventDefault(),hideAllBanners(),t&&(t?.bannerType==="CCPA"||t?.bannerType==="VCDPA"||t?.bannerType==="CPA"||t?.bannerType==="CTDPA"||t?.bannerType==="UCPA"||t?.country==="US")){let n=document.getElementById("main-consent-banner");if(n&&!document.getElementById("consensite-banner-type").textContent.toLowerCase().includes("gdpr")){showBanner(n);let a=await getConsentPreferences();updateCCPAPreferenceForm(a)}}}})}I&&(I.onclick=async function(e){e.preventDefault();let t=document.getElementById("main-consent-banner");t&&hideBanner(t);let n=document.getElementById("initial-consent-banner");n&&hideBanner(n)}),A(),S();let $=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){if(1===e.nodeType){e.hasAttribute&&e.hasAttribute("consentbit")&&"close"===e.getAttribute("consentbit")&&A();let t=e.querySelectorAll&&e.querySelectorAll('[consentbit="close"]');t&&t.length>0&&A(),e.hasAttribute&&e.hasAttribute("consentbit-data-donotshare")&&"consentbit-link-donotshare"===e.getAttribute("consentbit-data-donotshare")&&S()}})})});$.observe(document.body,{childList:!0,subtree:!0});let w=document.getElementById("consentbit-ccpa-linkblock");if(w&&(w.onclick=function(e){e.preventDefault();let t=document.querySelector(".consentbit-ccpa-banner-div");showBanner(t),showBanner(document.getElementById("initial-consent-banner"))}),"true"===s){await hideAllBanners();let x=await getConsentPreferences();if(x.analytics||x.marketing||x.personalization){let T=Object.keys(x).filter(e=>x[e]&&"doNotShare"!==e);if(T.length>0){enableScriptsByCategories(T);var B=document.head.querySelectorAll('script[type="text/plain"][data-category]');B.forEach(function(e){var t=e.getAttribute("data-category");if(t&&t.split(",").map(function(e){return e.trim()}).some(function(e){return T.includes(e)})){for(var n=document.createElement("script"),a=0;a<e.attributes.length;a++){var r=e.attributes[a];"type"===r.name?n.type="text/javascript":"data-blocked-by-consent"!==r.name&&"data-blocked-by-ccpa"!==r.name&&n.setAttribute(r.name,r.value)}e.innerHTML&&(n.innerHTML=e.innerHTML),e.parentNode.replaceChild(n,e)}})}}return}if(!s&&t&&t.bannerType){if(["CCPA","VCDPA","CPA","CTDPA","UCPA"].includes(t.bannerType)){removeDuplicateScripts();var B=document.head.querySelectorAll('script[type="text/plain"][data-category]');B.forEach(function(e){if(e.src)try{let t=document.querySelector(`script[src="${e.src}"][type="text/javascript"]`);if(t){e.remove();return}let n=document.createElement("script");for(let a of e.attributes)"type"!==a.name&&"data-blocked-by-consent"!==a.name&&"data-blocked-by-ccpa"!==a.name&&n.setAttribute(a.name,a.value);n.type="text/javascript",e.parentNode.insertBefore(n,e),e.remove()}catch(r){}else e.type="text/javascript",e.removeAttribute("data-blocked-by-consent"),e.removeAttribute("data-blocked-by-ccpa")}),document.head.querySelectorAll('script[type="text/plain"]').forEach(function(e){if(e.src)try{let t=document.querySelector(`script[src="${e.src}"][type="text/javascript"]`);if(t){e.remove();return}let n=document.createElement("script");for(let a of e.attributes)"type"!==a.name&&"data-blocked-by-consent"!==a.name&&"data-blocked-by-ccpa"!==a.name&&n.setAttribute(a.name,a.value);n.type="text/javascript",e.parentNode.insertBefore(n,e),e.remove()}catch(r){}else e.type="text/javascript",e.removeAttribute("data-blocked-by-consent"),e.removeAttribute("data-blocked-by-ccpa")}),document.getElementById("consensite-banner-type").textContent.toLowerCase().includes("gdpr")||showBanner(document.getElementById("initial-consent-banner")),document.getElementById("consensite-banner-type").textContent.toLowerCase().includes("gdpr")||hideBanner(document.getElementById("consent-banner"))}else showBanner(document.getElementById("consent-banner")),hideBanner(document.getElementById("initial-consent-banner")),blockScriptsByCategory()}})}();
